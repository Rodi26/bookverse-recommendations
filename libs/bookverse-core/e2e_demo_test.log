/Users/yonatanp/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
[bookverse-core-demo] 2025-09-13 13:01:09,112 - root - INFO - ‚úÖ Logging configured for bookverse-core-demo (level: INFO)
[bookverse-core-demo] 2025-09-13 13:01:09,112 - bookverse_core.api.app_factory - INFO - ‚úÖ CORS middleware enabled
[bookverse-core-demo] 2025-09-13 13:01:09,112 - bookverse_core.api.app_factory - INFO - ‚úÖ JWT authentication middleware enabled
[bookverse-core-demo] 2025-09-13 13:01:09,114 - bookverse_core.api.app_factory - INFO - ‚úÖ FastAPI application created: BookVerse Core Demo Service v0.1.0
[bookverse-core-demo] 2025-09-13 13:01:09,171 - __main__ - INFO - üöÄ BookVerse Core Demo Service v0.1.0 starting up on port 8000
INFO:     Will watch for changes in these directories: ['/Users/yonatanp/playground/AppTrust-BookVerse/bookverse-demo/bookverse-core']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [24272] using WatchFiles
/Users/yonatanp/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
[bookverse-core-demo] 2025-09-13 13:01:10,933 - root - INFO - ‚úÖ Logging configured for bookverse-core-demo (level: INFO)
[bookverse-core-demo] 2025-09-13 13:01:10,933 - bookverse_core.api.app_factory - INFO - ‚úÖ CORS middleware enabled
[bookverse-core-demo] 2025-09-13 13:01:10,933 - bookverse_core.api.app_factory - INFO - ‚úÖ JWT authentication middleware enabled
[bookverse-core-demo] 2025-09-13 13:01:10,935 - bookverse_core.api.app_factory - INFO - ‚úÖ FastAPI application created: BookVerse Core Demo Service v0.1.0
[bookverse-core-demo] 2025-09-13 13:01:11,620 - root - INFO - ‚úÖ Logging configured for bookverse-core-demo (level: INFO)
[bookverse-core-demo] 2025-09-13 13:01:11,621 - bookverse_core.api.app_factory - INFO - ‚úÖ CORS middleware enabled
[bookverse-core-demo] 2025-09-13 13:01:11,621 - bookverse_core.api.app_factory - INFO - ‚úÖ JWT authentication middleware enabled
[bookverse-core-demo] 2025-09-13 13:01:11,622 - bookverse_core.api.app_factory - INFO - ‚úÖ FastAPI application created: BookVerse Core Demo Service v0.1.0
INFO:     Started server process [24296]
INFO:     Waiting for application startup.
[bookverse-core-demo] 2025-09-13 13:01:11,625 - bookverse_core.api.app_factory - INFO - üöÄ Starting BookVerse Core Demo Service v0.1.0
[bookverse-core-demo] 2025-09-13 13:01:11,625 - bookverse_core.api.app_factory - INFO - üìã Environment: development
[bookverse-core-demo] 2025-09-13 13:01:11,625 - bookverse_core.api.app_factory - INFO - üîê Auth enabled: True
INFO:     Application startup complete.
[bookverse-core-demo] 2025-09-13 13:01:13,760 - bookverse_core.auth.oidc - WARNING - ‚ö†Ô∏è OIDC configuration unavailable in demo mode: HTTPSConnectionPool(host='dev-auth.bookverse.com', port=443): Max retries exceeded with url: /.well-known/openid_configuration (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x110bc3490>: Failed to resolve 'dev-auth.bookverse.com' ([Errno 8] nodename nor servname provided, or not known)"))
[bookverse-core-demo] 2025-09-13 13:01:13,760 - bookverse_core.auth.health - WARNING - ‚ö†Ô∏è Authentication service unavailable in demo mode: 503: Authentication service unavailable (expected in demo mode)
INFO:     127.0.0.1:51657 - "GET /health HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,779 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/info', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,780 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 1.82}
INFO:     127.0.0.1:51659 - "GET /info HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,796 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/info', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,797 - main - INFO - üìã Demo info endpoint accessed
[bookverse-core-demo] 2025-09-13 13:01:13,798 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 1.18}
INFO:     127.0.0.1:51661 - "GET /demo/info HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,813 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/summary', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,814 - main - INFO - üìä Demo summary endpoint accessed
[bookverse-core-demo] 2025-09-13 13:01:13,815 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 1.38}
INFO:     127.0.0.1:51663 - "GET /demo/summary HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,830 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/auth/public', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,830 - main - INFO - üåê Public endpoint accessed
[bookverse-core-demo] 2025-09-13 13:01:13,831 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 1.02}
INFO:     127.0.0.1:51665 - "GET /demo/auth/public HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,845 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/auth/optional', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,846 - main - INFO - üîì Optional auth endpoint accessed by anonymous user
[bookverse-core-demo] 2025-09-13 13:01:13,847 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 1.34}
INFO:     127.0.0.1:51667 - "GET /demo/auth/optional HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,861 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/auth/protected', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,862 - bookverse_core.api.middleware - WARNING - ‚ö†Ô∏è Response: {'request_id': 'unknown', 'status_code': 401, 'duration_ms': 0.99}
INFO:     127.0.0.1:51669 - "GET /demo/auth/protected HTTP/1.1" 401 Unauthorized
[bookverse-core-demo] 2025-09-13 13:01:13,882 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/config/current', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,883 - main - INFO - ‚öôÔ∏è Configuration endpoint accessed
[bookverse-core-demo] 2025-09-13 13:01:13,884 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 1.68}
INFO:     127.0.0.1:51671 - "GET /demo/config/current HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,905 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/logging/test', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,906 - main - INFO - üìù Logging demo endpoint accessed
[bookverse-core-demo] 2025-09-13 13:01:13,906 - main - INFO - üéØ DEMO: This is a demo-specific log message
[bookverse-core-demo] 2025-09-13 13:01:13,906 - main - INFO - ‚ôªÔ∏è COMMONS: Logging Setup - eliminated 50 lines of duplicate code
[bookverse-core-demo] 2025-09-13 13:01:13,906 - main - WARNING - This is a warning message with emoji ‚ö†Ô∏è
[bookverse-core-demo] 2025-09-13 13:01:13,906 - main - ERROR - ‚ùå ValueError: This is a demo error - don't worry! (Context: Demo error simulation) [ID: demo-request-123]
Traceback (most recent call last):
  File "/Users/yonatanp/playground/AppTrust-BookVerse/bookverse-demo/bookverse-core/app/main.py", line 245, in logging_demo
    raise ValueError("This is a demo error - don't worry!")
ValueError: This is a demo error - don't worry!
[bookverse-core-demo] 2025-09-13 13:01:13,908 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 2.88}
INFO:     127.0.0.1:51673 - "GET /demo/logging/test HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,931 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/validation/test', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,932 - main - INFO - ‚úÖ Validation demo endpoint accessed
[bookverse-core-demo] 2025-09-13 13:01:13,933 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 1.88}
INFO:     127.0.0.1:51675 - "GET /demo/validation/test HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,956 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/pagination/items', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,958 - api.demo_endpoints - INFO - üìÑ Pagination demo: page 1, per_page 20
[bookverse-core-demo] 2025-09-13 13:01:13,959 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 2.45}
INFO:     127.0.0.1:51677 - "GET /demo/pagination/items HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:13,981 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/middleware/demo', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:13,982 - api.demo_endpoints - INFO - üîß Middleware demo endpoint accessed
[bookverse-core-demo] 2025-09-13 13:01:13,982 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 1.18}
INFO:     127.0.0.1:51679 - "GET /demo/middleware/demo HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:14,012 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/responses/demo', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:14,013 - api.demo_endpoints - INFO - üìã Response patterns demo accessed
[bookverse-core-demo] 2025-09-13 13:01:14,014 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 1.88}
INFO:     127.0.0.1:51681 - "GET /demo/responses/demo HTTP/1.1" 200 OK
[bookverse-core-demo] 2025-09-13 13:01:14,032 - bookverse_core.api.middleware - INFO - üì• Request: {'request_id': 'unknown', 'method': 'GET', 'url': 'http://localhost:8000/demo/health/detailed', 'client_ip': '127.0.0.1', 'user_agent': 'curl/8.7.1'}
[bookverse-core-demo] 2025-09-13 13:01:14,033 - api.demo_endpoints - INFO - üè• Detailed health check demo accessed
[bookverse-core-demo] 2025-09-13 13:01:14,036 - bookverse_core.auth.oidc - WARNING - ‚ö†Ô∏è OIDC configuration unavailable in demo mode: HTTPSConnectionPool(host='dev-auth.bookverse.com', port=443): Max retries exceeded with url: /.well-known/openid_configuration (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x110d5f6a0>: Failed to resolve 'dev-auth.bookverse.com' ([Errno 8] nodename nor servname provided, or not known)"))
[bookverse-core-demo] 2025-09-13 13:01:14,036 - bookverse_core.auth.health - WARNING - ‚ö†Ô∏è Authentication service unavailable in demo mode: 503: Authentication service unavailable (expected in demo mode)
[bookverse-core-demo] 2025-09-13 13:01:14,036 - bookverse_core.api.middleware - INFO - üì§ Response: {'request_id': 'unknown', 'status_code': 200, 'duration_ms': 4.08}
INFO:     127.0.0.1:51684 - "GET /demo/health/detailed HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
[bookverse-core-demo] 2025-09-13 13:01:14,265 - bookverse_core.api.app_factory - INFO - üõë Shutting down BookVerse Core Demo Service
INFO:     Application shutdown complete.
INFO:     Finished server process [24296]
INFO:     Stopping reloader process [24272]
